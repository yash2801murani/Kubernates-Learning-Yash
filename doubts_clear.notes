All about services and Deployment Daemon replicaset


1ï¸âƒ£ StatefulSet â€“ Volumes doubt
â“ Does StatefulSet always need volumes?

âŒ NO

âœ… Correct points

StatefulSet = identity

Volume = optional

Used mostly with volumes in real life

ğŸ§  Remember

Identity â†’ mandatory

Storage â†’ optional but common

ğŸ‘‰ Interview line:

StatefulSet does not require volumes, but is commonly used with persistent storage.

2ï¸âƒ£ DaemonSet â€“ Multiple pods per node?
â“ Can DaemonSet run 2 pods per node?

âŒ NO

âœ… Correct points

DaemonSet = 1 Pod per node

No replicas field

Node-based, not count-based

ğŸ§  To run more pods per node:

Use Deployment

Or multiple DaemonSets (rare)

ğŸ‘‰ Interview line:

DaemonSet ensures exactly one Pod per node.

3ï¸âƒ£ Nginx default web path
âœ… Default path
/usr/share/nginx/html

ğŸ§  Context

Same in Docker

Same in Kubernetes

PV mounted here = data persists

ğŸ‘‰ Interview line:

Nginx default document root is /usr/share/nginx/html.

4ï¸âƒ£ Service â€“ Why needed?
â“ Why Service?

Pod IPs change

Service gives:

Stable IP

DNS

Load balancing

ğŸ§  Flow
Client â†’ Service â†’ Pod

5ï¸âƒ£ Service Types â€“ ONE-LINE EACH
Type	Use
ClusterIP	Internal only (default)
NodePort	Expose via node IP + port
LoadBalancer	Cloud external access
ExternalName	Map to external DNS
Headless	Direct Pod DNS (StatefulSet)
6ï¸âƒ£ LoadBalancer â€“ Key points

Exposes ONE service

Creates one cloud LB

No path/host routing

L4 (TCP/UDP)

ğŸ‘‰ Flow:

User â†’ LB â†’ NodePort â†’ Pod

7ï¸âƒ£ Ingress â€“ Key points

Exposes MULTIPLE services

Uses ONE LoadBalancer

Works on HTTP/HTTPS

L7 (host/path based)

ğŸ‘‰ Flow:

User â†’ LB â†’ Ingress Controller â†’ Service â†’ Pod

8ï¸âƒ£ BIG DOUBT CLARIFIED (IMPORTANT)
âŒ Wrong thinking

Ingress routes based on NodePort (32000 / 32001)

âœ… Correct thinking

Ingress listens on 80 / 443

Routes by:

Path

Host

NodePorts are not used by users

9ï¸âƒ£ PHP + NodeJS with Ingress (CORRECT SETUP)
âœ… Do I need Services?

âœ” YES â€” ALWAYS

Ingress routes to Services, not Pods.

âœ… Service type?

âœ” Both services should be ClusterIP

Example
/php   â†’ php-service (ClusterIP)
/node  â†’ node-service (ClusterIP)

ğŸ”Ÿ FINAL GOLDEN RULES (MEMORIZE)

Ingress â†’ Service â†’ Pod

Ingress âŒ never talks directly to Pods

Ingress âŒ does NOT route by port

Backend services for Ingress = ClusterIP

LoadBalancer = one service

Ingress = many services, one LB

ğŸ§  5 One-Line Interview Answers (SUPER IMPORTANT)

Ingress needs Services to route traffic

ClusterIP is best with Ingress

Ingress works on L7 (host/path)

LoadBalancer works on L4 (port-based)

DaemonSet = one Pod per node



------------------------------------------------------------------------------------------------------------------------


